interactions:
- request:
    body: '{"messages": [{"role": "system", "content": "You are a world class software
      developer."}, {"role": "user", "content": "What language would you suggest for
      developing a web application?"}], "llm_providers": [{"provider": "openai", "model":
      "gpt-3.5-turbo", "is_custom": false, "context_length": null, "input_price":
      null, "output_price": null, "latency": null}, {"provider": "openai", "model":
      "gpt-4", "is_custom": false, "context_length": null, "input_price": null, "output_price":
      null, "latency": null}, {"provider": "openai", "model": "gpt-4-1106-preview",
      "is_custom": false, "context_length": null, "input_price": null, "output_price":
      null, "latency": null}, {"provider": "openai", "model": "gpt-4-turbo-preview",
      "is_custom": false, "context_length": null, "input_price": null, "output_price":
      null, "latency": null}, {"provider": "anthropic", "model": "claude-3-opus-20240229",
      "is_custom": false, "context_length": null, "input_price": null, "output_price":
      null, "latency": null}], "metric": "accuracy", "max_model_depth": 5, "hash_content":
      false}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      Content-Length:
      - '1059'
      User-Agent:
      - Python-SDK/0.3.41
      content-type:
      - application/json
    method: POST
    uri: https://staging-api.notdiamond.ai/v2/modelRouter/modelSelect
  response:
    body:
      string: '{"providers":[{"provider":"anthropic","model":"claude-3-opus-20240229"}],"session_id":"eaa8f822-5743-4192-9e4b-a20267cebdbc"}'
    headers:
      CF-RAY:
      - 92589697dae45aa3-VIE
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 24 Mar 2025 19:31:21 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '125'
      rndr-id:
      - 014a5ce5-84a2-43f9
      vary:
      - Accept-Encoding
      x-render-origin-server:
      - uvicorn
    status:
      code: 200
      message: OK
- request:
    body: '{"max_tokens": 1024, "messages": [{"role": "user", "content": "What language
      would you suggest for developing a web application?"}], "model": "claude-3-opus-20240229",
      "system": "The output should be formatted as a JSON instance that conforms to
      the JSON schema below.\n\nAs an example, for the schema {\"properties\": {\"foo\":
      {\"title\": \"Foo\", \"description\": \"a list of strings\", \"type\": \"array\",
      \"items\": {\"type\": \"string\"}}}, \"required\": [\"foo\"]}\nthe object {\"foo\":
      [\"bar\", \"baz\"]} is a well-formatted instance of the schema. The object {\"properties\":
      {\"foo\": [\"bar\", \"baz\"]}} is not well-formatted.\n\nHere is the output
      schema:\n```\n{\"properties\": {\"language\": {\"description\": \"The programming
      language of choice.\", \"title\": \"Language\", \"type\": \"string\"}, \"reason\":
      {\"description\": \"The reason to pick the programming language.\", \"title\":
      \"Reason\", \"type\": \"string\"}}, \"required\": [\"language\", \"reason\"]}\n```\nYou
      are a world class software developer."}'
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate, zstd
      anthropic-version:
      - '2023-06-01'
      connection:
      - keep-alive
      content-length:
      - '1034'
      content-type:
      - application/json
      host:
      - api.anthropic.com
      user-agent:
      - Anthropic/Python 0.49.0
      x-api-key:
      - REDACTED
      x-stainless-arch:
      - x64
      x-stainless-async:
      - 'false'
      x-stainless-lang:
      - python
      x-stainless-os:
      - Linux
      x-stainless-package-version:
      - 0.49.0
      x-stainless-read-timeout:
      - '120.0'
      x-stainless-retry-count:
      - '0'
      x-stainless-runtime:
      - CPython
      x-stainless-runtime-version:
      - 3.12.3
      x-stainless-timeout:
      - NOT_GIVEN
    method: POST
    uri: https://api.anthropic.com/v1/messages
  response:
    body:
      string: '{"id":"msg_01HpthwT3XKnvLTswxD9Go82","type":"message","role":"assistant","model":"claude-3-opus-20240229","content":[{"type":"text","text":"Here
        is my suggestion for the best programming language for web application development:\n\n```json\n{\n  \"language\":
        \"JavaScript\",\n  \"reason\": \"JavaScript is the most popular and versatile
        language for web development. It can be used on both the frontend (with frameworks
        like React, Angular, or Vue) and backend (with Node.js). This allows using
        a single language throughout the stack which improves productivity. JavaScript
        also has a huge ecosystem of libraries and tools, making development faster.
        Finally, JavaScript skills are in high demand.\"\n}\n```"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":225,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":118}}'
    headers:
      CF-RAY:
      - 9258969d3aba5b82-VIE
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 24 Mar 2025 19:31:26 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      X-Robots-Tag:
      - none
      anthropic-organization-id:
      - a2610b2c-742e-455d-9552-6abe105b2a44
      anthropic-ratelimit-input-tokens-limit:
      - '400000'
      anthropic-ratelimit-input-tokens-remaining:
      - '400000'
      anthropic-ratelimit-input-tokens-reset:
      - '2025-03-24T19:31:22Z'
      anthropic-ratelimit-output-tokens-limit:
      - '80000'
      anthropic-ratelimit-output-tokens-remaining:
      - '80000'
      anthropic-ratelimit-output-tokens-reset:
      - '2025-03-24T19:31:26Z'
      anthropic-ratelimit-requests-limit:
      - '4000'
      anthropic-ratelimit-requests-remaining:
      - '3999'
      anthropic-ratelimit-requests-reset:
      - '2025-03-24T19:31:21Z'
      anthropic-ratelimit-tokens-limit:
      - '480000'
      anthropic-ratelimit-tokens-remaining:
      - '480000'
      anthropic-ratelimit-tokens-reset:
      - '2025-03-24T19:31:22Z'
      cf-cache-status:
      - DYNAMIC
      content-length:
      - '867'
      request-id:
      - req_019PKeq3yvWC4s1MNRuJQQnw
      via:
      - 1.1 google
    status:
      code: 200
      message: OK
- request:
    body: '{"session_id": "eaa8f822-5743-4192-9e4b-a20267cebdbc", "provider": {"provider":
      "anthropic", "model": "claude-3-opus-20240229", "is_custom": false, "context_length":
      null, "input_price": null, "output_price": null, "latency": null}, "feedback":
      {"tokens_per_second": 22.68275907740809}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      Content-Length:
      - '286'
      User-Agent:
      - Python-SDK/0.3.41
      content-type:
      - application/json
    method: POST
    uri: https://staging-api.notdiamond.ai/v2/report/metrics/latency
  response:
    body:
      string: '{"detail":"requestID=e13b0bf5-cc64-45b9, Session eaa8f822-5743-4192-9e4b-a20267cebdbc
        does not belong to user d6b6f4db-9cd9-4a33-b885-506685cd2d34."}'
    headers:
      CF-RAY:
      - 925896bcbd47c297-SOF
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      Date:
      - Mon, 24 Mar 2025 19:31:29 GMT
      Server:
      - cloudflare
      Transfer-Encoding:
      - chunked
      alt-svc:
      - h3=":443"; ma=86400
      cf-cache-status:
      - DYNAMIC
      rndr-id:
      - e13b0bf5-cc64-45b9
      vary:
      - Accept-Encoding
      x-render-origin-server:
      - uvicorn
    status:
      code: 401
      message: Unauthorized
version: 1
